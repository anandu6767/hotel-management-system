{% extends 'base.html' %}
{% block content %}
<div class="container mt-5">
  <h2 class="mb-4">ğŸ§¾ Payment Invoice</h2>
  <div class="card shadow">
    <div class="card-body">
      <p><strong>Booking ID:</strong> {{ booking.id }}</p>
      <p><strong>Payment ID:</strong> {{ booking.razorpay_payment_id|default_if_none:"-" }}</p>
      <p><strong>User:</strong> {{ booking.user.username }}</p>
      <p><strong>Date:</strong> {{ booking.payment_time|date:"d M Y, h:i A"|default_if_none:"-" }}</p>

      <hr>

      <ul class="list-group">
        <li class="list-group-item">ğŸ¨ Room: â‚¹{{ breakdown.room_price|floatformat:0 }}</li>
        <li class="list-group-item">ğŸ›ï¸ Amenities: â‚¹{{ breakdown.amenity_price|floatformat:0 }}</li>
        <li class="list-group-item">ğŸ’† Spa: â‚¹{{ breakdown.spa_price|floatformat:0 }}</li>
        <li class="list-group-item">ğŸ“¦ Subtotal: â‚¹{{ breakdown.subtotal|floatformat:0 }}</li>
        <li class="list-group-item">ğŸ§¾ Tax (18%): â‚¹{{ breakdown.tax|floatformat:0 }}</li>
        <li class="list-group-item">ğŸ Discount: â‚¹{{ breakdown.discount|floatformat:0 }}</li>
        <li class="list-group-item fw-bold">ğŸ’° Total Paid: â‚¹{{ breakdown.total|floatformat:0 }}</li>
      </ul>

      <a href="{% url 'download_invoice' booking.id %}" class="btn btn-primary mt-4">
        â¬‡ï¸ Download Invoice (PDF)
      </a>
    </div>
  </div>
</div>
{% endblock %}
